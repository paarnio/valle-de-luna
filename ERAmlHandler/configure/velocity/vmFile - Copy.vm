<rdf:RDF xmlns="http://siima.net/ontologies/2017/caex/" 
	xml:base="http://siima.net/ontologies/2017/caex/"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	xmlns:amlont="http://data.ifs.tuwien.ac.at/aml/ontology#">
	#* MULTILINE COMMENT *#
	
	#set( $amlns = 'http://data.ifs.tuwien.ac.at/aml/ontology#')
	#set( $xsdns = 'http://www.w3.org/2001/XMLSchema#')
	
	<owl:NamedIndividual rdf:about="$caexfile.FileName">
		<rdf:type rdf:resource="${amlns}CAEXFile"/>
	</owl:NamedIndividual>
	#foreach ($ih in $caexfile.getInstanceHierarchy())
	<owl:NamedIndividual rdf:about="$ih.Name">
		<rdf:type rdf:resource="${amlns}InstanceHierarchy"/>
	</owl:NamedIndividual>		
    #end
	#foreach ($ih in $caexfile.getInstanceHierarchy())
       #foreach ($ie in $ih.InternalElement)
			#walkIElements($ie)
		#end		
    #end

	## --Recursive walk through InternalElements--
	#macro(walkIElements $node)
	<owl:NamedIndividual rdf:about="$node.Name">
		<rdf:type rdf:resource="${amlns}InternalElement"/>
		<amlont:name rdf:datatype="${xsdns}string">$node.Name</amlont:name>
	</owl:NamedIndividual>	
	#if ($node.InternalElement.size() > 0)
		#foreach ($child in $node.InternalElement)
			#walkIElements($child)
		#end
	#end
	#end
	
</rdf:RDF>